{"version":3,"sources":["main.js"],"names":["console","log","messagesUL","document","querySelector","showMessageOnDOM","messages","innerHTML","forEach","message","newMessage","createElement","innerText","text","appendChild","sendMessage","field","value","axios","post","then","response","data","catch","error","addEventListener"],"mappings":";;AAAAA,QAAQC,GAAR;;AAIA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,IAAIC,aAAaC,SAASC,aAAT,CAAuB,aAAvB,CAAjB;;AAEA,IAAIC,mBAAmB,SAAnBA,gBAAmB,CAASC,QAAT,EAAmB;AACtCN,YAAQC,GAAR,CAAY,eAAZ,EAA6BK,QAA7B;;AAEAJ,eAAWK,SAAX,GAAuB,EAAvB;;AAEA;AACA;AACA;;AAEAD,aAASE,OAAT,CAAiB,UAASC,OAAT,EAAkB;AAC/B,YAAIC,aAAaP,SAASQ,aAAT,CAAuB,IAAvB,CAAjB;AACAD,mBAAWE,SAAX,GAAuBH,QAAQI,IAA/B;AACAX,mBAAWY,WAAX,CAAyBJ,UAAzB;AACH,KAJD;AAKH,CAdD;;AAkBA,IAAIK,cAAc,SAAdA,WAAc,GAAW;AACzB,QAAIC,QAAQb,SAASC,aAAT,CAAuB,2BAAvB,CAAZ;AACA,QAAIY,MAAMC,KAAV,EAAgB;AACZjB,gBAAQC,GAAR,CAAY,gBAAZ,EAA8Be,MAAMC,KAApC;;AAEAC,cAAM;AAAN,SACKC,IADL,CACU,kCADV,EAC8C;AACtCN,kBAAMG,MAAMC;AAD0B,SAD9C,EAIKG,IAJL,CAIU,UAASC,QAAT,EAAkB;AACpBrB,oBAAQC,GAAR,CAAY,MAAZ;AACAe,kBAAMC,KAAN,GAAc,EAAd,CAFoB,CAEF;AAClBjB,oBAAQC,GAAR,CAAY,mBAAZ,EAAiCoB,QAAjC;AACAhB,6BAAiBgB,SAASC,IAA1B;AACH,SATL,EAUKC,KAVL,CAUW,UAASC,KAAT,EAAe;AAClBxB,oBAAQC,GAAR,CAAY,OAAZ;AACH,SAZL;AAaH,KAhBD,MAgBO;AACH;AACH;AACJ,CArBD;;AAuBAE,SAASC,aAAT,CAAuB,aAAvB,EAAsCqB,gBAAtC,CAAuD,OAAvD,EAAgEV,WAAhE","file":"main.js","sourcesContent":["console.log(`Hello World from app.js! \nChange this message, and make sure it changes in the browser \nto verify that you're working in the right files.`)\n\n// user types, presses send, message appears\n\n// user types, presses send, send message to server, message appears\n\n// user types, presses send, get message from field, send message to server, \n// message appears\n\n// user types, presses send, get message from field, send message to server,\n// get message list from server,  message appears\n\nlet messagesUL = document.querySelector(\"ul.messages\");\n\nlet showMessageOnDOM = function(messages) {\n    console.log(\"show messages\", messages)\n\n    messagesUL.innerHTML = \"\";\n    \n    // while (messagesUL.children.length) {\n    //     messagesUL.removeChild ( messagesUL.children[0])\n    // }\n\n    messages.forEach(function(message) {\n        let newMessage = document.createElement(\"li\");\n        newMessage.innerText = message.text\n        messagesUL.appendChild ( newMessage )\n    })\n}\n\n\n\nlet sendMessage = function() {\n    let field = document.querySelector('input[name=\"new-message\"]');\n    if (field.value){\n        console.log(\"send to server\", field.value)\n\n        axios // 172.31.16.162\n            .post(\"http://172.31.17.54:1337/message\", {\n                text: field.value\n            })\n            .then(function(response){\n                console.log(\"cool\")\n                field.value = \"\"; // put it in here so it only happen upon successful submision\n                console.log(\"server respsonded\", response)\n                showMessageOnDOM(response.data)\n            })\n            .catch(function(error){\n                console.log(\"sucks\")\n            })\n    } else {\n        // user sucks\n    }\n}\n\ndocument.querySelector(\"button.send\").addEventListener(\"click\", sendMessage)"]}